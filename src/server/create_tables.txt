CREATE TABLE ACCOUNT(
ACCOUNT_ID INT PRIMARY KEY,
BALANCE REAL NOT NULL
);

CREATE TABLE POSITION(
POSITION_ID SERIAL PRIMARY KEY,
ACCOUNT_ID INT NOT NULL,
SYMBOL VARCHAR(256) NOT NULL,
AMOUNT INT NOT NULL,
FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT(ACCOUNT_ID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TYPE status AS ENUM('open','canceled','executed');

CREATE TABLE ORDERS(
ORDER_ID SERIAL PRIMARY KEY,
TRANS_ID INT,
ACCOUNT_ID INT NOT NULL,
SYMBOL VARCHAR(256) NOT NULL,
AMOUNT REAL NOT NULL,
PRICE REAL NOT NULL,
TIME BIGINT NOT NULL,
STATUS status NOT NULL DEFAULT 'open',
FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT(ACCOUNT_ID) ON DELETE CASCADE ON UPDATE CASCADE
);